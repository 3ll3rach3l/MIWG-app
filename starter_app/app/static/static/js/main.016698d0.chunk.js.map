{"version":3,"sources":["store/history.js","store/actions/auth.js","pages/LoginPage.js","components/AuthButton.js","pages/SignupPage.js","components/LogoutButton.js","pages/HomePage.js","store/actions/map.js","components/useModal.js","components/useForm.js","components/controls/Button.js","components/controls/Details.js","components/controls/Controls.js","components/controls/Input.js","components/controls/RadioGroup.js","components/controls/Select.js","components/controls/Checkbox.js","components/controls/DatePicker.js","components/MissingForm.js","store/actions/missing.js","components/FormModal.js","components/NavBar.js","pages/MapPage.js","pages/mapStyles.js","pages/Pages.js","App.js","store/reducers/mapReducer.js","store/reducers/rootReducer.js","store/configureStore.js","store/reducers/authReducer.js","index.js"],"names":["history","SET_USER","setUser","user","type","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","backgroundColor","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","palette","secondary","main","form","width","submit","LoginPage","classes","useState","email","setEmail","password","setPassword","currentUserToken","useSelector","state","auth","id","console","log","dispatch","useDispatch","to","Container","component","maxWidth","className","Avatar","noValidate","TextField","required","fullWidth","label","name","autoComplete","onChange","e","target","value","autoFocus","Button","onClick","preventDefault","a","fetch","method","headers","Cookies","get","body","JSON","stringify","res","json","data","ok","login","Grid","container","item","xs","Box","mt","AuthButton","props","size","SignupPage","username","setUsername","handleSubmit","signup","onSubmit","placeholder","flexGrow","logoutButton","marginRight","marginLeft","LogoutButton","handleClick","remove","push","HomePage","isLoggedIn","fetchCities","cities","useModal","isShowing","setIsShowing","toggle","Form","other","children","textTransform","Controls","Input","error","helperText","RadioGroup","items","FormControl","FormLabel","row","map","FormControlLabel","key","control","Radio","title","Select","options","InputLabel","MenuItem","FormHelperText","Checkbox","checked","convertToDefEventPara","DatePicker","utils","DateFnsUtils","disableToolbar","inputVariant","format","date","text","Details","rows","multiline","statusItems","MissingForm","userId","validate","fieldValues","values","temp","errors","fullName","age","tribalAffiliation","location","setErrors","Object","every","x","initialValues","validateOnChange","setValues","handleInputChange","resetForm","useForm","dateLastSeen","details","status","missing","newMissing","pageContent","padding","FormModal","hide","ReactDOM","createPortal","aria-modal","aria-hidden","tabIndex","role","Paper","data-dismiss","aria-label","document","menuButton","ButtonAppBar","AppBar","position","Toolbar","IconButton","edge","libraries","mapContainerStyle","height","center","lat","lng","styles","stylers","visibility","saturation","gamma","featureType","elementType","disableDefaultUI","MapPage","useLoadScript","googleMapsApiKey","process","isLoaded","loadError","useEffect","whatever","setMarkers","getCities","onMapClick","React","useCallback","current","latLng","time","mapReducer","markers","selected","setSelected","mapRef","useRef","onMapLoad","panTo","setZoom","style","zoom","onLoad","city","icon","url","scaledSize","window","google","maps","Size","origin","Point","anchor","onCloseClick","Pages","path","App","loading","setLoading","loadUser","CssBaseline","action","storeEnhancer","rootReducer","combineReducers","missingReducer","applyMiddleware","thunk","initialState","store","createStore","Node_ENV","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.016698d0.chunk.js","sourcesContent":["import { createBrowserHistory as history } from 'history';\n\nexport default history();","import Cookies from 'js-cookie';\n\nexport const SET_USER = 'auth/SET_USER';\nexport const LOGOUT_USER = 'auth/LOGOUT_USER';\n\n//////////////////ACTIONS////////////////////\n\nexport const setUser = (user) => {\n    if (!user){\n        return{\n            type: SET_USER,\n            user: {}\n        }\n    }\n    return{\n        type: SET_USER,\n        user\n    }\n}\n\nexport const logoutUser = () =>{\n    return{\n        type: LOGOUT_USER\n    }\n}\n\n/////////////////////THUNKS////////////////////////\n\nexport const login = (email, password) => {\n    return async dispatch => {\n        const res = await fetch('/api/session', {\n            method: 'post',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\")\n            },\n            body: JSON.stringify({ email, password })\n        })\n        res.data = await res.json();\n        if (res.ok) {\n            dispatch(setUser(res.data.user))\n        }\n        return res;\n    }\n}\n\nexport const signup = (username, email, password) => {\n    return async dispatch => {\n        const res = await fetch('/api/users/signup', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n                \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\"),\n            },\n            body: JSON.stringify({ username, email, password })\n        })\n        res.data = await res.json();\n        if (res.ok) {\n            dispatch(setUser(res.data.user));\n        }\n        return res;\n    }\n}\n\nexport const logout = () => {\n    return async dispatch => {\n        const res = await fetch('/api/session', {\n            method: 'delete',\n            // headers: {\"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\")},\n            headers: { },\n        })\n        if (res.ok) {\n            dispatch(logoutUser());\n        }\n        return res;\n    }\n}\n\nexport const loginDemo = () => async (dispatch) => {\n    const res = await fetch(\"/api/session\", {\n        method: \"post\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\")\n        },\n        body: JSON.stringify({ email: \"lauren@example.com\", password: \"password\" })\n    });\n   \n    res.data = await res.json();\n   \n    if (res.ok) {\n        dispatch(setUser(res.data.user))\n    }\n    return res;\n};","import React, { useState } from 'react';\nimport { login, loginDemo } from '../store/actions/auth';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, } from \"react-router-dom\";\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\n\nimport TextField from '@material-ui/core/TextField';\n\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\n\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://github.com/3ll3rach3l/MIWG-app//\">\n        Lauren Beard\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: 'black'\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function LoginPage() {\n  const classes = useStyles();\n\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const currentUserToken = useSelector(state => state.auth.id);\n  console.log(\"this is currentUserToken\", currentUserToken)\n  const dispatch = useDispatch();\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(login(email, password));\n\n  }\n\n  const handleDemoSubmit = e => {\n    e.preventDefault();\n    dispatch(loginDemo());\n    console.log(\"demo!\")\n  }\n\n  if (currentUserToken) return <Redirect to=\"/\" />;\n\n  return (\n\n    <Container component=\"main\" maxWidth=\"xs\">\n\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n            onClick={handleSubmit}\n          >\n            Sign In\n          </Button>\n\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\" onClick={handleDemoSubmit}>\n                Demo Sign In\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"/signup\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}","import React from 'react';\nimport {Button} from '@material-ui/core'\n\n\nexport default function AuthButton(props){\n\n    return(\n        <div className=\"button\">\n            <Button variant=\"outlined\" color=\"secondary\" type=\"submit\" size=\"medium\" {...props}/>\n        </div>\n\n    )\n}","import React, { useState } from \"react\";\nimport { signup } from \"../store/actions/auth\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\n\n\nimport \"./auth.css\";\nimport AuthButton from \"../components/AuthButton\";\n\nfunction SignupPage() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const currentUserId = useSelector((state) => state.auth.id);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(signup(username, email, password));\n  };\n\n  if (currentUserId) return <Redirect to=\"/\" />;\n\n  return (\n    <>\n      <div className=\"auth-container\">\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n          <div className=\"errors-container\">\n            <ul className=\"errors\" id=\"sign-up-errors\"></ul>\n          </div>\n          <div className=\"buttonDiv\">\n            <div className=\"signUpLabel\">\n              <input\n                type=\"text\"\n                className=\"signup\"\n                placeholder=\"Username\"\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"buttonDiv\">\n            <div className=\"signUpLabel\">\n              <input\n                type=\"text\"\n                className=\"signup\"\n                placeholder=\"Email\"\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"buttonDiv\">\n            <div className=\"signUpLabel\">\n              <input\n                type=\"password\"\n                className=\"signup\"\n                placeholder=\"Password\"\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"buttonDiv\">\n            <AuthButton onClick={handleSubmit}>Sign Up</AuthButton>\n            <div className=\"signUpOption\">\n              <span>\n                Already a member? <Link to=\"/login\">Log In</Link>\n              </span>\n            </div>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default SignupPage;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { logout } from '../store/actions/auth'\nimport Cookies from \"js-cookie\";\nimport history from '../store/history';\n\nimport { Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  logoutButton: {\n    marginRight: theme.spacing(10),\n    marginLeft: theme.spacing(20)\n   \n  },\n  \n  \n}));\n\n\n\nfunction LogoutButton() {\n  const dispatch = useDispatch();\n  const classes = useStyles()\n  \n\n  const handleClick = async () => {\n    const res = await dispatch(logout());\n    //debugger\n    if (res.ok){\n      Cookies.remove(\"token\");\n      history.push('/login')\n      \n    } \n\n    //console.log(\"this is res in logoutbutton.js\", res)\n  };\n\n  return (\n    <div id=\"logout-button\">\n      <Button variant=\"contained\" className={classes.logoutButton}onClick={handleClick}> Log Out</Button>\n    </div>\n  );\n}\n\nexport default LogoutButton;\n\n","import React from 'react';\nimport { Redirect, Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux';\n\nimport LogoutButton from '../components/LogoutButton';\n\nfunction HomePage() {\n    const isLoggedIn = useSelector(state => !!state.auth.id);\n    console.log(\"this is isLoggedIn\", isLoggedIn)\n    if (!isLoggedIn) return <Redirect to='/login'></Redirect>\n\n    return (\n        <>\n        <div>\n            <h1>In various tribes, red is known to be the only color spirits see.\n            It is hoped that by wearing red, we can call back the missing spirits\n                of our women and children so we can lay them to rest.</h1>\n        </div>\n        <div>\n            <Link to=\"/map\">Map</Link>\n\n        </div>\n        <div>\n            <LogoutButton>Log Out</LogoutButton>\n\n        </div>\n        </>\n\n\n    )\n\n}\n\nexport default HomePage;","import Cookies from \"js-cookie\";\n\nexport const GET_CITIES = \"GET_CITIES\";\nexport const GET_CITY = \"GET_CITY\";\nexport const POST_CITY = \"POST_CITY\"\n\n//////////////ACTIONS/////////////////////\nexport const getCities = (cities) =>{\n    return{\n        type: GET_CITIES,\n        cities\n    }\n}\n\nexport const getCity = (city) => {\n    return{\n        type: GET_CITY,\n        city\n    }\n}\n\nexport const postCity = (city) =>{\n    return{\n        type: POST_CITY,\n        city\n    }\n}\n\n////////////////////THUNKS/////////////////////////\nexport const fetchCities = () =>{\n    return async (dispatch) => {\n        const res = await fetch(`/api/map`);\n        const data = await res.json()\n        \n        dispatch(getCities(data.cities))\n        // console.log(\"cities data\", data)\n        return data\n    }\n\n}\n\nexport const fetchCity = (id)  =>{\n    return async (dispatch) =>{\n        const res = await fetch (`/api/map/${id}`);\n        const data = await res.json();\n        dispatch(getCity(data.city))\n\n        return data\n\n    }\n}\n\nexport const newCity = (city, state, lat, lng) =>{\n    return async (dispatch) =>{\n        const res = await fetch(\"/api/map/new\", {\n          method: \"post\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\"),\n          },\n          body: JSON.stringify({ city, state, lat, lng }),\n        });\n\n       res.data = await res.json();\n\n       if(res.ok){\n           dispatch(postCity(res.data))\n       }\n       return res;\n    }\n}","import {useState} from 'react';\n\nconst useModal = () => {\n    const [isShowing, setIsShowing] = useState(false); //sets current view of modal\n\n    function toggle(){\n        setIsShowing(!isShowing);\n    }\n\n    return{    //this return gives access to the component\n        isShowing,\n        toggle\n    }\n}\n\nexport default useModal;","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nexport function useForm(initialValues, validateOnChange = false, validate){\n    const [values, setValues] = useState(initialValues);\n    const [errors, setErrors] = useState({});\n\n    const handleInputChange = (e) => {\n      const { name, value } = e.target\n      setValues({\n        ...values,\n        [name]: value,\n      });\n      if(validateOnChange) validate({[name]: value})\n     \n    };\n\n    const resetForm = () =>{\n        setValues(initialValues);\n        setErrors({})\n    }\n\n    return{\n        values,\n        setValues,\n        errors,\n        setErrors,\n        handleInputChange,\n        resetForm\n    }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiFormControl-root\": {\n      width: \"60%\",\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport function Form(props){\n\n    const classes = useStyles()\n    const {children, ...other } = props;\n    return(\n       <form className={classes.root} autoComplete=\"off\" {...other}>\n           {props.children}\n       </form>\n    )\n}\n\n","import React from \"react\";\nimport { Button as MuiButton } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(0.5),\n  },\n  label: {\n    textTransform: \"none\",\n  },\n}));\n\nexport default function Button(props) {\n  const { text, size, color, variant, onClick, ...other } = props;\n  const classes = useStyles();\n\n  return (\n    <MuiButton\n      variant={variant || \"contained\"}\n      size={size || \"large\"}\n      color={color || \"secondary\"}\n      onClick={onClick}\n      {...other}\n      classes={{ root: classes.root, label: classes.label }}\n    >\n      {text}\n    </MuiButton>\n  );\n}\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        },\n    },\n}));\n\n    \n\nexport default function Input(props) {\n    const classes = useStyles();\n    const { name, label, value, error = null, onChange } = props;\n    return (\n        <TextField\n            rows={4}\n            multiline\n            variant=\"outlined\"\n            label={label}\n            name={name}\n            value={value}\n            onChange={onChange}\n            {...(error && { error: true, helperText: error })}\n        />\n    );\n}\n","import Input from \"./Input\";\nimport RadioGroup from \"./RadioGroup\";\nimport Select from \"./Select\";\nimport Checkbox from \"./Checkbox\";\nimport DatePicker from \"./DatePicker\";\nimport Button from \"./Button\";\nimport Details from \"./Details\"\n\nconst Controls = {\n  Input,\n  RadioGroup,\n  Select,\n  Checkbox,\n  DatePicker,\n  Button,\n  Details\n};\n\nexport default Controls;\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\n\nexport default function Input(props) {\n  const { name, label, value, error = null, onChange } = props;\n  return (\n    <TextField\n      variant=\"outlined\"\n      label={label}\n      name={name}\n      value={value}\n      onChange={onChange}\n      {...(error && { error: true, helperText: error })}\n    />\n  );\n}\n","import React from \"react\";\nimport {\n  FormControl,\n  FormLabel,\n  RadioGroup as MuiRadioGroup,\n  FormControlLabel,\n  Radio,\n} from \"@material-ui/core\";\n\nexport default function RadioGroup(props) {\n  const { name, label, value, onChange, items } = props;\n\n  return (\n    <FormControl>\n      <FormLabel>{label}</FormLabel>\n      <MuiRadioGroup row name={name} value={value} onChange={onChange}>\n        {items.map((item) => (\n          <FormControlLabel\n            key={item.id}\n            value={item.id}\n            control={<Radio />}\n            label={item.title}\n          />\n        ))}\n      </MuiRadioGroup>\n    </FormControl>\n  );\n}\n","import React from \"react\";\nimport {\n  FormControl,\n  InputLabel,\n  Select as MuiSelect,\n  MenuItem,\n  FormHelperText,\n} from \"@material-ui/core\";\n\nexport default function Select(props) {\n  const { name, label, value, error = null, onChange, options } = props;\n\n  return (\n    <FormControl variant=\"outlined\" {...(error && { error: true })}>\n      <InputLabel>{label}</InputLabel>\n      <MuiSelect label={label} name={name} value={value} onChange={onChange}>\n        <MenuItem value=\"\">None</MenuItem>\n        {options.map((item) => (\n          <MenuItem key={item.id} value={item.id}>\n            {item.title}\n          </MenuItem>\n        ))}\n      </MuiSelect>\n      {error && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React from \"react\";\nimport {\n  FormControl,\n  FormControlLabel,\n  Checkbox as MuiCheckbox,\n} from \"@material-ui/core\";\n\nexport default function Checkbox(props) {\n  const { name, label, value, onChange } = props;\n\n  const convertToDefEventPara = (name, value) => ({\n    target: {\n      name,\n      value,\n    },\n  });\n\n  return (\n    <FormControl>\n      <FormControlLabel\n        control={\n          <MuiCheckbox\n            name={name}\n            color=\"primary\"\n            checked={value}\n            onChange={(e) =>\n              onChange(convertToDefEventPara(name, e.target.checked))\n            }\n          />\n        }\n        label={label}\n      />\n    </FormControl>\n  );\n}\n","import React from \"react\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\nexport default function DatePicker(props) {\n  const { name, label, value, onChange } = props;\n\n  const convertToDefEventPara = (name, value) => ({\n    target: {\n      name,\n      value,\n    },\n  });\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        disableToolbar\n        variant=\"inline\"\n        inputVariant=\"outlined\"\n        label={label}\n        format=\"MMM/dd/yyyy\"\n        name={name}\n        value={value}\n        onChange={(date) => onChange(convertToDefEventPara(name, date))}\n      />\n    </MuiPickersUtilsProvider>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Grid, TextField} from '@material-ui/core';\nimport { useForm, Form } from './useForm';\nimport Controls from '../components/controls/Controls';\nimport { newMissing } from '../store/actions/missing';\n\n\nconst statusItems = [\n    {id: 'missing', title: 'Missing'},\n    {id: 'found', title: 'Found'},\n    {id: 'deceased', title: 'Deceased'},\n]\n\n\nexport default function MissingForm(){\n  const dispatch = useDispatch()\n  const userId = useSelector(state => state.auth.user.id);\n  // console.log(\"userId\", userId)\n  // if (!userId) return <Redirect to='/login'></Redirect>\n  \n  const validate = (fieldValues = values) =>{\n    let temp = {...errors}\n    if ('fullName' in fieldValues) \n    temp.fullName = fieldValues.fullName ? \"\" : \"Please enter full name.\"\n    if (\"age\" in fieldValues)\n    temp.age = fieldValues.age ? \"\" : \"Please enter an age.\";\n    if (\"tribalAffiliation\" in fieldValues)\n    temp.tribalAffiliation = fieldValues.tribalAffiliation ? \"\" : \"Please enter tribal affiliation.\";\n    if (\"location\" in fieldValues)\n    temp.location = fieldValues.location ? \"\" : \"Please enter a location\";\n    setErrors({\n      ...temp,\n    });\n    \n    if (fieldValues === values)\n    return Object.values(temp).every((x) => x === \"\");\n  }\n  \n  const initialValues ={\n      id: 0,\n      fullName: '',\n      age: '',\n      tribalAffiliation: '',\n      location: '',\n      dateLastSeen: new Date(),\n      details: '',\n      status: 'missing',\n      userId: userId\n      // isPermanent: false,\n  }\n\n    const {\n        values,\n        setValues,\n        errors,\n        setErrors,\n        handleInputChange,\n        resetForm,\n    } = useForm(initialValues, true, validate);\n\n  const handleSubmit = e => {\n      e.preventDefault()\n      if (validate()){\n        console.log(\"this is before dispatch\", values)\n        dispatch(newMissing(values))\n        console.log(\"these are the values\", values)\n        resetForm()\n      }\n  }\n\n    return (\n      <Form onSubmit={handleSubmit}>\n        <Grid container>\n          <Grid item xs={6}>\n            <Controls.Input\n              name=\"fullName\"\n              label=\"Full Name\"\n              value={values.fullName}\n              onChange={handleInputChange}\n              error={errors.fullName}\n            />\n            <Controls.Input\n              label=\"Age\"\n              name=\"age\"\n              value={values.age}\n              onChange={handleInputChange}\n              error={errors.age}\n            />\n            <Controls.Input\n              label=\"Tribal Affiliation\"\n              name=\"tribalAffiliation\"\n              value={values.tribalAffiliation}\n              onChange={handleInputChange}\n              error={errors.tribalAffiliation}\n            />\n            <Controls.Input //use search component here\n              label=\"City Last Seen\"\n              name=\"location\"\n              value={values.location}\n              onChange={handleInputChange}\n              error={errors.location}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <Controls.DatePicker\n                name=\"dateLastSeen\"\n                label=\"Date last seen\"\n                value={values.dateLastSeen}\n                onChange={handleInputChange}\n            />\n            <Controls.Details \n              name=\"details\"\n              label=\"Additional details\"\n              value={values.details}\n              onChange={handleInputChange}\n            />\n            <Controls.RadioGroup\n              name=\"status\"\n              label=\"Status\"\n              value={values.status}\n              onChange={handleInputChange}\n              items={statusItems}\n            />\n            {/* <Controls.Select\n              name=\"departmentId\"\n              label=\"Department\"\n              value={values.departmentId}\n              onChange={handleInputChange}\n              options={employeeService.getDepartmentCollection()}\n              error={errors.departmentId}\n            /> */}\n            {/* <Controls.Checkbox\n              name=\"isPermanent\"\n              label=\"Permanent Employee\"\n              value={values.isPermanent}\n              onChange={handleInputChange}\n            /> */}\n\n            <div>\n              <Controls.Button type=\"submit\" text=\"Submit\" />\n              <Controls.Button\n                text=\"Reset\"\n                color=\"default\"\n                onClick={resetForm}\n              />\n            </div>\n          </Grid>\n        </Grid>\n      </Form>\n    );\n}","import Cookies from 'js-cookie';\n\nexport const GET_MISSING = 'GET_MISSING';\nexport const GET_ONE_MISSING = 'GET_ONE_MISSING';\nexport const POST_MISSING = 'POST_MISSING';\n\n///////////////ACTIONS//////////////////\n\nexport const getMissing = (missing) =>{\n    return {\n        type: GET_MISSING,\n        missing\n    }\n}\n\nexport const getOneMissing = (oneMissing) => {\n    return {\n        type: GET_ONE_MISSING,\n        oneMissing\n    }\n}\n\nexport const postMissing = (missing) => {\n    return {\n        type: POST_MISSING,\n        missing\n    }\n}\n\n///////////////////THUNKS/////////////////\nexport const fetchMissing = () => {\n    return async (dispatch) => {\n        const res = await fetch('/api/missing');\n        const data = await res.json()\n\n        dispatch(getMissing(data.missing))\n        return data\n    }\n}\n\nexport const fetchOneMissing = (id) => {\n    return async (dispatch) => {\n        const res = await fetch(`/api/missing/${id}`);\n        const data = await res.json();\n        dispatch(getOneMissing(data.oneMissing))\n\n        return data\n    }\n}\n\nexport const newMissing = (fullName, age, tribalAffiliation, location, dateLastSeen, details, status, userId) => {\n    // const body = { fullName, age, tribalAffiliation, location, dateLastSeen, details, status, userId };\n    // console.log(\"this is the body\", body);\n    return async dispatch => {\n        const res = await fetch('/api/missing/new', {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\"),\n            },\n            body: JSON.stringify(fullName, age, tribalAffiliation, location, dateLastSeen, details, status, userId),\n        });\n        \n        console.log('res', res)\n        res.data = await res.json();\n       \n\n        if(res.ok){\n            dispatch(postMissing(res.data))\n        } \n        return res;\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MissingForm from './MissingForm';\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nimport './formModal.css'\n\nconst useStyles = makeStyles((theme) => ({\n  pageContent: {\n    margin: theme.spacing(5),\n    padding: theme.spacing(3),\n  },\n}));\n\n//Portals allow React components to render in another part of the DOM that is outside of their parent component.\nconst FormModal = ({isShowing, hide}) => {\n\n  const classes = useStyles()\n\n  return (\n    <div className=\"modal\">\n      {isShowing\n        ? ReactDOM.createPortal(\n            <>\n              <div className=\"modal-overlay\" />\n              <div\n                className=\"modal-wrapper\"\n                aria-modal\n                aria-hidden\n                tabIndex={-1}\n                role=\"dialog\"\n              >\n                <div className=\"modal\">\n                  <Paper className={classes.pageContent}>\n                    <MissingForm />\n                  </Paper>\n                  <div className=\"modal-header\">\n                    <button\n                      type=\"button\"\n                      className=\"modal-close-button\"\n                      data-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                      onClick={hide}\n                    >\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  {/* <p>\n               Hello, I'm a modal.\n             </p> */}\n                </div>\n              </div>\n            </>,\n            document.body\n          )\n        : null}\n    </div>\n  );\n}\nexport default FormModal","import React from \"react\";\nimport { AppBar, Toolbar, Typography, Button, IconButton } from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nimport useModal from \"../components/useModal\";\nimport FormModal from \"../components/FormModal\";\nimport LogoutButton from \"../components/LogoutButton\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(1),\n    marginLeft: theme.spacing(-30)\n  },\n  title: {\n    flexGrow: 1,\n  },\n  \n}));\n\nexport default function ButtonAppBar() {\n  const classes = useStyles();\n  const { isShowing, toggle } = useModal();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Button variant=\"contained\" color=\"secondary\" onClick={toggle}>\n            <Typography variant=\"h8\" className={classes.title}>\n                Report Missing\n            </Typography>\n          </Button>\n          <FormModal isShowing={isShowing} hide={toggle} />\n          {/* <Typography variant=\"h6\" className={classes.title}>\n            News\n          </Typography> */}\n          {/* <Button variant=\"contained\" color=\"inherit\">Log Out</Button> */}\n          <LogoutButton />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, {useEffect} from 'react'\nimport {GoogleMap, useLoadScript, Marker, InfoWindow} from '@react-google-maps/api';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {fetchCities, postCity} from '../store/actions/map';\nimport {useQuery, useMutation, queryCache} from 'react-query'\n\nimport mapStyles from './mapStyles'\nimport Search from '../components/Search'\nimport NavBar from '../components/NavBar'\n// import Markers from '../components/Markers';\nimport './mapPage.css'\n\n\n\n//can go in it's own component\nconst libraries = ['places'];\n\nconst mapContainerStyle = {\n  width: '100vs',\n  height: '100vh'\n}\n\nconst center = {\n  lat: 39.099728,\n  lng: -94.578568,\n};\n\nconst options = {\n  styles: mapStyles,\n  disableDefaultUI: true,\n}\n\n\n\nexport default function MapPage(){\n  const dispatch = useDispatch()\n\n  //hooks\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_KEY,\n    libraries,\n  });\n\n  useEffect(()=>{\n    async function getCities(){\n     const whatever = await dispatch(fetchCities())\n     console.log(\"this is whatever\", whatever)\n     setMarkers(whatever.cities)\n    }\n    getCities()\n  }, [dispatch]);\n\n\n  //this event is listening for every click on map and registering the lat & long in state\n  const onMapClick = React.useCallback((e) => {\n   // dispatch(postCity(city, state, lat, lng))\n    setMarkers((current) => [\n      ...current,\n      {\n        lat: e.latLng.lat(),\n        lng: e.latLng.lng(),\n        time: new Date(),\n      },\n    ]);\n  }, []);\n\n  //state - useState is used when we want React to re-render\n  const cities = useSelector(state => state.mapReducer)\n  const [markers, setMarkers] = React.useState([]);\n  const [selected, setSelected] = React.useState(null)\n\n  \n\n  const mapRef = React.useRef(); //we use ref when we want to retain state without re-rendering\n  const onMapLoad = React.useCallback((map) => {\n    mapRef.current = map;\n  }, []);\n\n  const panTo = React.useCallback(({lat, lng}) => { //this is for panning to the city input from search\n    mapRef.current.panTo({lat, lng});\n    mapRef.current.setZoom(14);\n  }, []);\n\n  if (loadError) return \"Error loading maps\";\n  if (!isLoaded) return \"Loading Maps\";\n  if(!cities) return \"loading cities\"\n  // console.log(\"cities--array of objs\", cities)\n  return (\n    <div className=\"googleMap\" style={{ width: \"100vw\", height: \"100vh\" }}>\n      {/* <h1>No more stolen sisters</h1>\n\n      <Search panTo={panTo}/> */}\n      <NavBar />\n\n      <GoogleMap\n        mapContainerStyle={mapContainerStyle}\n        zoom={4.5}\n        center={center}\n        options={options}\n        onClick={onMapClick}\n        onLoad={onMapLoad}\n      >\n       \n        {/* below is the 'func' to add markers to map when a user clicks */}\n        {markers.map((city) => (\n          <Marker\n            key={city.city}\n            position={{ lat: city.lat, lng: city.lng }}\n            icon={{\n              url: \"/red-hand.svg\",\n              scaledSize: new window.google.maps.Size(50, 50),\n              origin: new window.google.maps.Point(0, 0),\n              anchor: new window.google.maps.Point(25, 25),\n            }}\n            onClick={() => {\n              setSelected(city); // this click handler \"selects\" a city that is already on the map aka you will be able to 'select' it to get info\n            }}\n          />\n        ))}\n\n        {selected ? (\n          <InfoWindow \n          position={{ lat: selected.lat, lng: selected.lng }}\n          onCloseClick={()=>{setSelected(null)}}\n          >\n            <div>\n              <h2>This is Dope</h2>\n              <p>\n                Deciding how I want to utilize this...\n              </p>\n            </div>\n          </InfoWindow>\n        ) : null}\n      </GoogleMap>\n    </div>\n  );\n}\n\n","export default [\n  {\n    stylers: [\n      {\n        visibility: \"on\",\n      },\n      {\n        saturation: -100,\n      },\n      {\n        gamma: 0.54,\n      },\n    ],\n  },\n  {\n    featureType: \"road\",\n    elementType: \"labels.icon\",\n    stylers: [\n      {\n        visibility: \"off\",\n      },\n    ],\n  },\n  {\n    featureType: \"water\",\n    stylers: [\n      {\n        color: \"#4d4946\",\n      },\n    ],\n  },\n  {\n    featureType: \"poi\",\n    elementType: \"labels.icon\",\n    stylers: [\n      {\n        visibility: \"off\",\n      },\n    ],\n  },\n  {\n    featureType: \"poi\",\n    elementType: \"labels.text\",\n    stylers: [\n      {\n        visibility: \"simplified\",\n      },\n    ],\n  },\n  {\n    featureType: \"road\",\n    elementType: \"geometry.fill\",\n    stylers: [\n      {\n        color: \"#ffffff\",\n      },\n    ],\n  },\n  {\n    featureType: \"road.local\",\n    elementType: \"labels.text\",\n    stylers: [\n      {\n        visibility: \"simplified\",\n      },\n    ],\n  },\n  {\n    featureType: \"water\",\n    elementType: \"labels.text.fill\",\n    stylers: [\n      {\n        color: \"#ffffff\",\n      },\n    ],\n  },\n  {\n    featureType: \"transit.line\",\n    elementType: \"geometry\",\n    stylers: [\n      {\n        gamma: 0.48,\n      },\n    ],\n  },\n  {\n    featureType: \"transit.station\",\n    elementType: \"labels.icon\",\n    stylers: [\n      {\n        visibility: \"off\",\n      },\n    ],\n  },\n  {\n    featureType: \"road\",\n    elementType: \"geometry.stroke\",\n    stylers: [\n      {\n        gamma: 7.18,\n      },\n    ],\n  },\n];\n","import React from 'react';\nimport {Route, Switch, Router} from 'react-router-dom';\nimport history from '../store/history'\n\nimport LoginPage from './LoginPage'\nimport SignupPage from './SignupPage'\nimport HomePage from './HomePage'\nimport MapPage from './MapPage'\n\n\nexport default function Pages() {\n    return (\n      <Router history={history}>\n        <Switch>\n          <Route path=\"/map\" component={MapPage} />\n          <Route path=\"/signup\" component={SignupPage} />\n          <Route path=\"/login\" component={LoginPage} />\n          <Route path=\"/\" component={HomePage}/>\n        </Switch>\n      </Router>\n    );\n}","import React, {useEffect, useState } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport Pages from './pages/Pages'\nimport { useDispatch } from \"react-redux\";\nimport { setUser } from \"./store/actions/auth\";\n\nimport { CssBaseline } from '@material-ui/core';\n\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      const loadUser = async () => {\n        //backend route to get current user\n        const res = await fetch(\"/api/session/current\");\n        if (res.ok) {\n          res.data = await res.json();\n          dispatch(setUser(res.data));\n        }\n        setLoading(false);\n      };\n      loadUser();\n    }, [dispatch]);\n\n    if (loading) return null;\n  console.log(\"____Rendering app_____\")\n  return (\n    <>\n      <BrowserRouter>\n      <CssBaseline/>\n          <Pages />\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n","import {GET_CITIES, GET_CITY, POST_CITY} from '../actions/map';\n\nexport default function mapReducer(state ={}, action){\n    switch(action.type){\n        case GET_CITIES:\n            return action.cities;\n        case GET_CITY:\n            return action.city;\n        case POST_CITY:\n            return action.city\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\nimport mapReducer from './mapReducer';\nimport missingReducer from './mapReducer';\n\n\nconst rootReducer = combineReducers({\n    auth: authReducer,\n    mapReducer,\n    missingReducer\n   \n})\n\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers/rootReducer';\n\n\nlet storeEnhancer;\n\nif (process.env.NODE_ENV !== 'production') {\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    storeEnhancer = composeEnhancers(applyMiddleware(thunk));\n} else {\n    storeEnhancer = applyMiddleware(thunk);\n}\n\nexport default function configureStore(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        storeEnhancer\n    )\n}","import { SET_USER, LOGOUT_USER } from '../actions/auth';\n\nexport default function authReducer(state = {}, action) {\n    switch (action.type) {\n        case SET_USER:\n            return action.user;\n\n        case LOGOUT_USER:\n            return {};\n\n        default:\n            return state;\n    }\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport configureStore from './store/configureStore';\nimport {Provider} from 'react-redux';\n\nconst store = configureStore();\nif (process.env.Node_ENV !== 'production') {\n  window.store = store;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}