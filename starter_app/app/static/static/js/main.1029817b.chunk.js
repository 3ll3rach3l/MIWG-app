(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,n){},37:function(e,t,n){e.exports=n(53)},42:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),s=n.n(c),o=(n(42),n(2)),l=n.n(o),i=n(4),u=n(8),p=n(15),m=n(3),f=n(9),d=Object(f.a)(),b=n(16),v=n.n(b),g="auth/SET_USER",E=function(e){return e?{type:g,user:e}:{type:g,user:{}}},h=n(5);n(31);var y=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),f=o[0],d=o[1],b=Object(h.c)((function(e){return e.auth.id})),g=Object(h.b)(),y=function(e){e.preventDefault(),g(function(e,t){return function(){var n=Object(i.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/session",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":v.a.get("XSRF-TOKEN")},body:JSON.stringify({email:e,password:t})});case 2:return r=n.sent,n.next=5,r.json();case 5:return r.data=n.sent,r.ok&&a(E(r.data.user)),n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,f))};return b?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"auth-container"},r.a.createElement("form",{className:"auth-form",onSubmit:y},r.a.createElement("div",{className:"errors-container"},r.a.createElement("ul",{className:"errors",id:"login-errors"})),r.a.createElement("div",{className:"signUpLabel"},r.a.createElement("input",{type:"text",className:"signup",placeholder:"Email",onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"signUpLabel"},r.a.createElement("input",{type:"password",className:"signup",placeholder:"Password",onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("button",{className:"authButton",type:"submit",onClick:y},"Log in")),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("button",{className:"authButton",type:"submit",onClick:function(e){e.preventDefault(),g(function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":v.a.get("XSRF-TOKEN")},body:JSON.stringify({email:"lauren@example.com",password:"password"})});case 2:return n=e.sent,e.next=5,n.json();case 5:return n.data=e.sent,n.ok&&t(E(n.data.user)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Log in as demo user")),r.a.createElement("div",{className:"signUpOption"},r.a.createElement("span",null,"Not a member? ",r.a.createElement(p.b,{to:"/signup"},"Sign up")))))};var O=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),f=o[0],d=o[1],b=Object(a.useState)(""),g=Object(u.a)(b,2),y=g[0],O=g[1],j=Object(h.b)(),T=function(e){e.preventDefault(),j(function(e,t,n){return function(){var a=Object(i.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/users/signup",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":v.a.get("XSRF-TOKEN")},body:JSON.stringify({username:e,email:t,password:n})});case 2:return c=a.sent,a.next=5,c.json();case 5:return c.data=a.sent,c.ok&&r(E(c.data.user)),a.abrupt("return",c);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(f,n,y))};return Object(h.c)((function(e){return e.auth.id}))?r.a.createElement(m.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-container"},r.a.createElement("form",{className:"auth-form",onSubmit:T},r.a.createElement("div",{className:"errors-container"},r.a.createElement("ul",{className:"errors",id:"sign-up-errors"})),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("div",{className:"signUpLabel"},r.a.createElement("input",{type:"text",className:"signup",placeholder:"Username",onChange:function(e){return d(e.target.value)}}))),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("div",{className:"signUpLabel"},r.a.createElement("input",{type:"text",className:"signup",placeholder:"Email",id:"outlined-basic",onChange:function(e){return c(e.target.value)}}))),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("div",{className:"signUpLabel"},r.a.createElement("input",{type:"password",className:"signup",placeholder:"Password",id:"outlined-basic",onChange:function(e){return O(e.target.value)}}))),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("button",{className:"authButton",type:"submit",onClick:T},"Sign Up"),r.a.createElement("div",{className:"signUpOption"},r.a.createElement("span",null,"Already a member? ",r.a.createElement(p.b,{to:"/login"},"Log In")))))))};var j=function(e){var t=Object(h.b)(),n=function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session",{method:"delete",headers:{}});case 2:return(n=e.sent).ok&&t({type:"auth/LOGOUT_USER"}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:e.sent.ok&&v.a.remove("token");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"logout-button"},r.a.createElement("button",{onClick:n,className:"logout-button",type:"click"}," Log out "))};var T=function(){return Object(h.c)((function(e){return!!e.auth.id}))?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Home Page"),r.a.createElement(j,null)):r.a.createElement(m.a,{to:"/login"})},w=n(36),N=n(21),S=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/map");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,t({type:"GET_CITIES",cities:a.cities}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=(n(52),n(24)),x=n(20);n(49),n(50);function C(e){var t=e.panTo,n=Object(k.a)({requestOptions:{location:{lat:function(){return 39.099728},lng:function(){return-94.578568}},radius:1e5}}),a=n.ready,c=n.value,s=n.suggestions,o=s.status,u=s.data,p=n.setValue,m=n.clearSuggestions;return r.a.createElement("div",{className:"search"},r.a.createElement(x.a,{onSelect:function(){var e=Object(i.a)(l.a.mark((function e(n){var a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(n,!1),m(),e.prev=2,e.next=5,Object(k.b)({address:n});case 5:return a=e.sent,console.log(a[0]),e.next=9,Object(k.c)(a[0]);case 9:r=e.sent,c=r.lat,s=r.lng,console.log("this is lat long",c,s),t({lat:c,lng:s}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.error("error!"),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(x.b,{value:c,onChange:function(e){p(e.target.value)},disabled:!a,placeholder:"Enter a city"}),r.a.createElement(x.d,null,"OK"===o&&u.map((function(e){var t=e.id,n=e.description;return r.a.createElement(x.c,{key:t,value:n})})))))}n(51);var _=["places"],D={width:"100vs",height:"100vh"},L={lat:39.099728,lng:-94.578568},U={styles:[{stylers:[{visibility:"on"},{saturation:-100},{gamma:.54}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#4d4946"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{gamma:.48}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{gamma:7.18}]}],disableDefaultUI:!0};function R(){var e=Object(h.b)(),t=Object(N.d)({googleMapsApiKey:"AIzaSyAV--XF6Fj5F2KevnUV7SDjagY4C-7fVXA",libraries:_}),n=t.isLoaded,c=t.loadError;Object(a.useEffect)((function(){function t(){return(t=Object(i.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(S());case 2:n=t.sent,console.log(n),d(n.cities);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var s=r.a.useCallback((function(e){d((function(t){return[].concat(Object(w.a)(t),[{lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date}])}))}),[]),o=Object(h.c)((function(e){return e.mapReducer})),p=r.a.useState([]),m=Object(u.a)(p,2),f=m[0],d=m[1],b=r.a.useState(null),v=Object(u.a)(b,2),g=v[0],E=v[1],y=r.a.useRef(),O=r.a.useCallback((function(e){y.current=e}),[]),j=r.a.useCallback((function(e){var t=e.lat,n=e.lng;y.current.panTo({lat:t,lng:n}),y.current.setZoom(14)}),[]);return c?"Error loading maps":n?o?(console.log(o),r.a.createElement("div",{className:"googleMap",style:{width:"100vw",height:"100vh"}},r.a.createElement("h1",null,"No more stolen sisters"),r.a.createElement(C,{panTo:j}),r.a.createElement(N.a,{mapContainerStyle:D,zoom:4.5,center:L,options:U,onClick:s,onLoad:O},f.map((function(e){return r.a.createElement(N.c,{key:e.city,position:{lat:e.lat,lng:e.lng},icon:{url:"/red-hand.svg",scaledSize:new window.google.maps.Size(50,50),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(25,25)},onClick:function(){E(e)}})})),g?r.a.createElement(N.b,{position:{lat:g.lat,lng:g.lng},onCloseClick:function(){E(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"This is Dope"),r.a.createElement("p",null,"Deciding how I want to utilize this..."))):null))):"loading cities":"Loading Maps"}function F(){return r.a.createElement(m.c,{history:d},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/map",component:R}),r.a.createElement(m.b,{path:"/signup",component:O}),r.a.createElement(m.b,{path:"/login",component:y}),r.a.createElement(m.b,{path:"/",component:T})))}var K=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(h.b)();return Object(a.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/current");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:t.data=e.sent,s(E(t.data));case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),n?null:(console.log("____Rendering app_____"),r.a.createElement(p.a,null,r.a.createElement(F,null)))},I=n(17),A=n(35);var P,X=Object(I.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.user;case"auth/LOGOUT_USER":return{};default:return e}},mapReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES":return t.cities;case"GET_CITY":case"POST_CITY":return t.city;default:return e}}});P=Object(I.a)(A.a);var V,G=Object(I.d)(X,V,P);"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_KEY:"AIzaSyAV--XF6Fj5F2KevnUV7SDjagY4C-7fVXA"}).Node_ENV&&(window.store=G),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:G},r.a.createElement(K,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.1029817b.chunk.js.map