(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,a,t){},134:function(e,a,t){e.exports=t(153)},145:function(e,a,t){},147:function(e,a,t){},149:function(e,a,t){},150:function(e,a,t){},151:function(e,a,t){},152:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(8),l=t.n(i),o=(t(83),t(10)),c=t.n(o),s=t(17),u=t(13),m=t(55),d=t(19),p=t(27),g=Object(p.a)(),f=t(47),b=t.n(f),h="auth/SET_USER",v=function(e){return e?{type:h,user:e}:{type:h,user:{}}},E=t(12),O=t(213),y=t(195),j=t(194),S=t(191),w=t(196),N=t(208),x=t(60),C=t(192),k=t(193),T=t(111);function I(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(S.a,{color:"inherit",href:"https://github.com/3ll3rach3l/MIWG-app//"},"Lauren Beard")," ",(new Date).getFullYear(),".")}var A=Object(C.a)((function(e){return{background:{default:"black"},paper:{margin:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),width:"100%"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function L(){var e=A(),a=Object(n.useState)(""),t=Object(u.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(""),m=Object(u.a)(o,2),p=m[0],g=m[1],f=Object(E.c)((function(e){return e.auth.id})),h=Object(E.b)();return f?r.a.createElement(d.a,{to:"/map"}):r.a.createElement("div",{className:"pageWrapper"},r.a.createElement(k.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,{className:e.paper},r.a.createElement(O.a,{className:e.avatar}),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return l(e.target.value)},autoFocus:!0}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return g(e.target.value)}}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,onClick:function(e){e.preventDefault(),h(function(e,a){return function(){var t=Object(s.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":b.a.get("XSRF-TOKEN")},body:JSON.stringify({email:e,password:a})});case 2:return r=t.sent,t.next=5,r.json();case 5:return r.data=t.sent,r.ok&&n(v(r.data.user)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i,p))}},"Sign In"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(S.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),h(function(){var e=Object(s.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":b.a.get("XSRF-TOKEN")},body:JSON.stringify({email:"lauren@example.com",password:"password"})});case 2:return t=e.sent,e.next=5,t.json();case 5:return t.data=e.sent,t.ok&&a(v(t.data.user)),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},"Demo Sign In")),r.a.createElement(w.a,{item:!0},r.a.createElement(S.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(N.a,{mt:8},r.a.createElement(I,null))))}t(145);var M=t(86),D=t.n(M),R=t(80);function _(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(S.a,{color:"inherit",href:"https://github.com/3ll3rach3l/MIWG-app//"},"Lauren Beard")," ",(new Date).getFullYear(),".")}var G=Object(C.a)((function(e){return{paper:{margin:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),width:"100%"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},copyright:{color:R.a[500]}}}));function P(){var e=G(),a=Object(n.useState)(""),t=Object(u.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(""),m=Object(u.a)(o,2),p=m[0],g=m[1],f=Object(n.useState)(""),h=Object(u.a)(f,2),x=h[0],C=h[1],I=Object(E.b)(),A=function(e){e.preventDefault(),I(function(e,a,t){return function(){var n=Object(s.a)(c.a.mark((function n(r){var i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/signup",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":b.a.get("XSRF-TOKEN")},body:JSON.stringify({username:e,email:a,password:t})});case 2:return i=n.sent,n.next=5,i.json();case 5:return i.data=n.sent,i.ok&&r(v(i.data.user)),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(p,i,x))};return Object(E.c)((function(e){return e.auth.id}))?r.a.createElement(d.a,{to:"/map"}):r.a.createElement("div",{className:"pageWrapper"},r.a.createElement(k.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,{className:e.paper},r.a.createElement(O.a,{className:e.avatar},r.a.createElement(D.a,null)),r.a.createElement("form",{className:e.form,onSubmit:A},r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"text",id:"username",label:"Username",autoFocus:!0,onChange:function(e){return g(e.target.value)}}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"text",id:"emailSignup",label:"Email",autoFocus:!0,onChange:function(e){return l(e.target.value)}}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"passwordSignup",onChange:function(e){return C(e.target.value)}}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,onClick:A},"Sign Up"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0},r.a.createElement(S.a,{href:"/login",variant:"body2"},"Already a member? Sign In"))))),r.a.createElement(N.a,{mt:8},r.a.createElement(_,{className:e.copyright}))))}var F=t(157),B=t(159),W=t(212),U=t(197),K=t(210);var z=t(158),X=t(163),H=t(215),V=t(160);var q=t(211);var J=t(24),Y=t(207),Z=t(109);var Q=t(79),$=Object(C.a)((function(e){return{root:{margin:e.spacing(.5)},label:{textTransform:"none"}}}));var ee=Object(C.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));var ae={Input:function(e){var a=e.name,t=e.label,n=e.value,i=e.error,l=void 0===i?null:i,o=e.onChange;return r.a.createElement(j.a,Object.assign({variant:"outlined",label:t,name:a,value:n,onChange:o},l&&{error:!0,helperText:l}))},RadioGroup:function(e){var a=e.name,t=e.label,n=e.value,i=e.onChange,l=e.items;return r.a.createElement(F.a,null,r.a.createElement(B.a,null,t),r.a.createElement(W.a,{row:!0,name:a,value:n,onChange:i},l.map((function(e){return r.a.createElement(U.a,{key:e.id,value:e.id,control:r.a.createElement(K.a,null),label:e.title})}))))},Select:function(e){var a=e.name,t=e.label,n=e.value,i=e.error,l=void 0===i?null:i,o=e.onChange,c=e.options;return r.a.createElement(F.a,Object.assign({variant:"outlined"},l&&{error:!0}),r.a.createElement(z.a,null,t),r.a.createElement(X.a,{label:t,name:a,value:n,onChange:o},r.a.createElement(H.a,{value:""},"None"),c.map((function(e){return r.a.createElement(H.a,{key:e.id,value:e.id},e.title)}))),l&&r.a.createElement(V.a,null,l))},Checkbox:function(e){var a=e.name,t=e.label,n=e.value,i=e.onChange;return r.a.createElement(F.a,null,r.a.createElement(U.a,{control:r.a.createElement(q.a,{name:a,color:"primary",checked:n,onChange:function(e){return i(function(e,a){return{target:{name:e,value:a}}}(a,e.target.checked))}}),label:t}))},DatePicker:function(e){var a=e.name,t=e.label,n=e.value,i=e.onChange;return r.a.createElement(J.a,{utils:Z.a},r.a.createElement(Y.a,{disableToolbar:!0,variant:"inline",inputVariant:"outlined",label:t,format:"MM/dd/yyyy",name:a,value:n,onChange:function(e){return i(function(e,a){return{target:{name:e,value:a}}}(a,e))}}))},Button:function(e){var a=e.text,t=e.size,n=e.color,i=e.variant,l=e.onClick,o=Object(Q.a)(e,["text","size","color","variant","onClick"]),c=$();return r.a.createElement(y.a,Object.assign({variant:i||"contained",size:t||"large",color:n||"secondary",onClick:l},o,{classes:{root:c.root,label:c.label}}),a)},Details:function(e){ee();var a=e.name,t=e.label,n=e.value,i=e.error,l=void 0===i?null:i,o=e.onChange;return r.a.createElement(j.a,Object.assign({rows:4,multiline:!0,variant:"outlined",label:t,name:a,value:n,onChange:o},l&&{error:!0,helperText:l}))}},te=(t(147),Object(C.a)((function(e){return{background:{default:"black"},paper:{margin:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(5),width:"60%",height:"100%",color:"red",opacity:.9,marginLeft:e.spacing(30)},buttons:{padding:"10px",width:"100%",display:"inline"}}})));function ne(){Object(E.c)((function(e){return e.auth.id}));var e=te();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageWrapper"},r.a.createElement(k.a,{component:"main",maxWidth:"xs ",elevation:3},r.a.createElement(T.a,{className:e.paper},r.a.createElement(x.a,{variant:"h4",align:"center"},"Missing Indigenous Women & Girls"),r.a.createElement("br",null),r.a.createElement(x.a,{variant:"h5"},"In various tribes, red is known to be the only color spirits see. It is hoped that by wearing red, we can call back the missing spirits of our women and children so we can lay them to rest..."),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:"./homepage.JPG",alt:"Natives Mask Up"})),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement(ae.Button,{type:"submit",text:"Map",className:e.buttons,onClick:function(){return g.push("/map")}}),r.a.createElement(ae.Button,{text:"Missing",className:e.buttons,color:"default",onClick:function(){return g.push("/missing")}}))))))}var re=t(66),ie=function(){return function(){var e=Object(s.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/missing");case 2:return t=e.sent,e.next=5,t.json();case 5:return t.data=e.sent,t.ok&&a({type:"GET_MISSING",missing:t.data.missings}),e.abrupt("return",t.data);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},le=function(e,a,t,n,r,i,l,o,u,m){return function(){var d=Object(s.a)(c.a.mark((function s(d){var p;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/missing/new",{method:"post",headers:{"Content-Type":"application/json","XSRF-TOKEN":b.a.get("XSRF-TOKEN")},body:JSON.stringify({fullName:e,age:a,tribalAffiliation:t,location:n,dateLastSeen:r,details:i,status:l,userId:o,lat:u,lng:m})});case 2:return p=c.sent,console.log("this is lat lng",u,m),console.log("res",p),c.next=7,p.json();case 7:p.data=c.sent,console.log("this is res.data",p.data.newMissing),p.ok&&d({type:"POST_MISSING",missing:p.data.newMissing});case 10:case"end":return c.stop()}}),s)})));return function(e){return d.apply(this,arguments)}}()},oe=function(e,a,t,n,r,i,l,o,u,m,d){var p={age:e,dateLastSeen:a,details:t,fullName:n,id:r,lat:i,lng:l,location:o,status:u,tribalAffiliation:m,userId:d};return console.log("this is the body",p),function(){var p=Object(s.a)(c.a.mark((function s(p){var g;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/missing/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({age:e,dateLastSeen:a,details:t,fullName:n,id:r,lat:i,lng:l,location:o,status:u,tribalAffiliation:m,userId:d})});case 2:return g=c.sent,c.next=5,g.json();case 5:g.data=c.sent,g.ok&&p({type:"UPDATE_MISSING",missing:g.data.missings});case 7:case"end":return c.stop()}}),s)})));return function(e){return p.apply(this,arguments)}}()},ce=t(39),se=t(65);t(148),t(149);function ue(e){var a=e.panTo,t=Object(ce.a)({requestOptions:{location:{lat:function(){return 39.099728},lng:function(){return-94.578568}},radius:1e5}}),n=t.ready,i=t.value,l=t.suggestions,o=l.status,u=l.data,m=t.setValue,d=t.clearSuggestions;return r.a.createElement("div",{className:"search"},r.a.createElement(se.a,{onSelect:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t,!1),d(),e.prev=2,e.next=5,Object(ce.b)({address:t});case 5:return n=e.sent,e.next=8,Object(ce.c)(n[0]);case 8:r=e.sent,i=r.lat,l=r.lng,a({lat:i,lng:l}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("error!"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(a){return e.apply(this,arguments)}}()},r.a.createElement(se.b,{value:i,onChange:function(e){m(e.target.value)},disabled:!n,placeholder:"Enter a city"}),r.a.createElement(se.d,null,"OK"===o&&u.map((function(e){var a=e.id,t=e.description;return r.a.createElement(se.c,{key:a,value:t})})))))}var me=t(199),de=t(198),pe=t(161),ge=function(){var e=Object(n.useState)(!1),a=Object(u.a)(e,2),t=a[0],r=a[1];return{isShowing:t,toggle:function(){r(!t)}}},fe=t(25),be=t(64);var he=Object(C.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"60%",margin:e.spacing(1)}}}}));function ve(e){var a=he(),t=(e.children,Object(Q.a)(e,["children"]));return r.a.createElement("form",Object.assign({className:a.root,autoComplete:"off"},t),e.children)}var Ee=[{id:"missing",title:"Missing"},{id:"found",title:"Found"},{id:"deceased",title:"Deceased"}];function Oe(){var e=Object(E.b)(),a=Object(E.c)((function(e){return e.auth.id})),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=Object(fe.a)({},o);if("fullName"in e&&(a.fullName=e.fullName?"":"Please enter full name."),"age"in e&&(a.age=e.age?"":"Please enter an age."),"tribalAffiliation"in e&&(a.tribalAffiliation=e.tribalAffiliation?"":"Please enter tribal affiliation."),"location"in e&&(a.location=e.location?"":"Please enter a location"),m(Object(fe.a)({},a)),e===l)return Object.values(a).every((function(e){return""===e}))},i=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(e),i=Object(u.a)(r,2),l=i[0],o=i[1],c=Object(n.useState)({}),s=Object(u.a)(c,2),m=s[0],d=s[1],p=function(e){var n=e.target,r=n.name,i=n.value;o(Object(fe.a)(Object(fe.a)({},l),{},Object(be.a)({},r,i))),a&&t(Object(be.a)({},r,i))},g=function(){o(e),d({})};return{values:l,setValues:o,errors:m,setErrors:d,handleInputChange:p,resetForm:g}}({id:0,fullName:"",age:"",tribalAffiliation:"",location:"",dateLastSeen:new Date,details:"",status:"missing",userId:a},!0,t),l=i.values,o=(i.setValues,i.errors),m=i.setErrors,d=i.handleInputChange,p=i.resetForm,f=function(){var a=Object(s.a)(c.a.mark((function a(){var t,n,r,i,o,s,u,m,d,p,f,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=l.location,n=l.fullName,r=l.age,i=l.tribalAffiliation,o=l.dateLastSeen,s=l.details,u=l.status,m=l.userId,a.prev=8,a.next=11,Object(ce.b)({address:t});case 11:return d=a.sent,a.next=14,Object(ce.c)(d[0]);case 14:return p=a.sent,f=p.lat,b=p.lng,console.log("these are coords",{lat:f,lng:b}),e(le(n,r,i,t,o,s,u,m,f,b)),a.abrupt("return",g.push("/map"));case 22:a.prev=22,a.t0=a.catch(8),console.log(a.t0);case 25:case 26:case"end":return a.stop()}}),a,null,[[8,22]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(ve,{onSubmit:function(e){return e.preventDefault(),t()&&(f(),p()),g.push("/map")}},r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(ae.Input,{name:"fullName",label:"Full Name",value:l.fullName,onChange:d,error:o.fullName}),r.a.createElement(ae.Input,{label:"Age",name:"age",value:l.age,onChange:d,error:o.age}),r.a.createElement(ae.Input,{label:"Tribal Affiliation",name:"tribalAffiliation",value:l.tribalAffiliation,onChange:d,error:o.tribalAffiliation}),r.a.createElement(ae.Input,{label:"City, ST last seen",name:"location",value:l.location,onChange:d,error:o.location})),r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(ae.DatePicker,{name:"dateLastSeen",label:"Date last seen",value:l.dateLastSeen,onChange:d}),r.a.createElement(ae.Details,{name:"details",label:"Additional details",value:l.details,onChange:d}),r.a.createElement(ae.RadioGroup,{name:"status",label:"Status",value:l.status,onChange:d,items:Ee}),r.a.createElement("div",null,r.a.createElement(ae.Button,{type:"submit",text:"Submit"}),r.a.createElement(ae.Button,{text:"Reset",color:"default",onClick:p})))))}t(100);var ye=Object(C.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3),opacity:.9}}})),je=function(e){var a=e.isShowing,t=e.hide,n=ye();return r.a.createElement("div",{className:"modal"},a?l.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-overlay"}),r.a.createElement("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},r.a.createElement("div",{className:"modal"},r.a.createElement(T.a,{className:n.pageContent},r.a.createElement(Oe,null),r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:t},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))),document.body):null)},Se=Object(C.a)((function(e){return{root:{flexGrow:1},logoutButton:{marginRight:e.spacing(10),marginLeft:e.spacing(20)}}}));var we=function(){var e=Object(E.b)(),a=Se(),t=function(){var a=Object(s.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(function(){var e=Object(s.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session",{method:"delete",headers:{}});case 2:return(t=e.sent).ok&&a({type:"auth/LOGOUT_USER"}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 2:a.sent.ok&&(b.a.remove("token"),g.push("/logout"));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{id:"logout-button"},r.a.createElement(y.a,{variant:"contained",className:a.logoutButton,onClick:t}," Log Out"))},Ne=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1),marginLeft:e.spacing(-30)},title:{flexGrow:1},homeButton:{marginRight:e.spacing(1),marginLeft:e.spacing(10),width:"20%"}}}));function xe(){var e=Ne(),a=ge(),t=a.isShowing,n=a.toggle,i=Object(E.c)((function(e){return e.auth.id}));return console.log("current user id",i),r.a.createElement("div",{className:e.root},r.a.createElement(me.a,{position:"fixed"},r.a.createElement(de.a,null,r.a.createElement(pe.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(y.a,{className:e.homeButton,variant:"contained",onClick:function(){return g.push("/")}}," Home "),r.a.createElement(H.a,{onClick:function(){return g.push("/missing")}},"View Missing")),i?r.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:n},r.a.createElement(x.a,{variant:"h8",className:e.title},"Report Missing")," "):r.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:n,disabled:!0},r.a.createElement(x.a,{variant:"h8",className:e.title},"Report Missing")),r.a.createElement(je,{isShowing:t,hide:n}),i?r.a.createElement(we,null):r.a.createElement(y.a,{className:e.homeButton,variant:"contained",onClick:function(){return g.push("/login")}}," Log In "))))}t(150);var Ce=["places"],ke={width:"100vs",height:"100vh"},Te={lat:39.099728,lng:-94.578568},Ie={styles:[{stylers:[{visibility:"on"},{saturation:-100},{gamma:.54}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#4d4946"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{gamma:.48}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{gamma:7.18}]}],disableDefaultUI:!0};function Ae(){var e=Object(re.d)({googleMapsApiKey:"AIzaSyCN3q2wKf6rz4IotGPW1pDXwHhcpflU6Ac",libraries:Ce}),a=e.isLoaded,t=e.loadError,i=Object(E.b)(),l=Object(E.c)((function(e){return e.missingReducer.missing})),o=r.a.useState([]),m=Object(u.a)(o,2),d=(m[0],m[1]),p=r.a.useState(null),g=Object(u.a)(p,2),f=g[0],b=g[1];Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(ie());case 2:a=e.sent,console.log("this is inside the missingObj",a),d(a.missings);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]);var h=r.a.useRef(),v=r.a.useCallback((function(e){h.current=e}),[]),O=r.a.useCallback((function(e){var a=e.lat,t=e.lng;h.current.panTo({lat:a,lng:t}),h.current.setZoom(8)}),[]);return t?"Error loading maps":a?l?r.a.createElement("div",{className:"googleMap",style:{width:"100vw",height:"100vh"}},r.a.createElement(ue,{panTo:O}),r.a.createElement(xe,null),r.a.createElement(re.a,{mapContainerStyle:ke,zoom:4.5,center:Te,options:Ie,onLoad:v},l.map((function(e){return r.a.createElement(re.c,{key:e.location,position:{lat:e.lat,lng:e.lng},icon:{url:"/red-hand.svg",scaledSize:new window.google.maps.Size(50,50),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(25,25)},onClick:function(){b(e)}})})),f?r.a.createElement(re.b,{position:{lat:f.lat,lng:f.lng},onCloseClick:function(){b(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,f.fullName),r.a.createElement("h3",null,"Status: ",f.status),r.a.createElement("h3",null,"Tribal Affiliation: ",f.tribalAffiliation),r.a.createElement("h3",null,"Last Seen in ",f.location," ",r.a.createElement("br",null)," on ",f.dateLastSeen),r.a.createElement("h3",null,"Details: ",f.details))):null)):"loading missing":"Loading Maps"}var Le=[{id:"missing",title:"Missing"},{id:"found",title:"Found"},{id:"deceased",title:"Deceased"}];function Me(e){var a=e.person,t=Object(E.c)((function(e){return e.auth.id})),i=r.a.useState([]),l=Object(u.a)(i,2),o=(l[0],l[1],Object(n.useState)(null)),m=Object(u.a)(o,2),d=m[0],p=(m[1],Object(n.useState)(null)),f=Object(u.a)(p,2),b=f[0],h=f[1],v=Object(n.useState)(null),O=Object(u.a)(v,2),y=O[0],j=(O[1],Object(n.useState)(null)),S=Object(u.a)(j,2),N=S[0],x=S[1],C=Object(n.useState)(null),k=Object(u.a)(C,2),T=k[0],I=k[1],A=Object(n.useState)(null),L=Object(u.a)(A,2),M=L[0],D=L[1],R=Object(n.useState)(null),_=Object(u.a)(R,2),G=_[0],P=_[1],F=Object(E.b)(),B=function(){var e=Object(s.a)(c.a.mark((function e(){var a,n,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N,console.log("this is address",a),e.prev=2,e.next=5,Object(ce.b)({address:a});case 5:return n=e.sent,console.log("this is results in extract coord edit missing form",n),e.next=9,Object(ce.c)(n[0]);case 9:return r=e.sent,i=r.lat,l=r.lng,console.log("these are coords in edit missing form",{lat:i,lng:l}),F(oe(b,T,M,d,i,l,N,G,y,t)),e.abrupt("return",g.push("/missing"));case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}();return console.log("person",a),r.a.createElement(ve,{onSubmit:function(e){if(e.preventDefault(),!N)return F(oe(b,T,M,d,G,y,t)),console.log("body",b,T,M,d,N,G,y,t),g.push("/missing");console.log("new location",N),B()}},r.a.createElement("div",{key:a.id},r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(ae.Input,{disabled:!0,label:"Full Name",value:a.fullName}),r.a.createElement(ae.Input,{disabled:!0,label:"Tribal Affiliation",name:"tribalAffiliation",value:a.tribalAffiliation}),r.a.createElement(ae.Input,{label:"Update Age",name:"age",onChange:function(e){return h(e.target.value)}}),r.a.createElement(ae.Input,{label:"Update City Seen",name:"location",onChange:function(e){return x(e.target.value)}})),r.a.createElement(w.a,{item:!0,xs:6},r.a.createElement(ae.DatePicker,{name:"dateLastSeen",label:"Update Date Last Seen",onChange:function(e){return I(e.target.value)}}),r.a.createElement(ae.Details,{name:"details",label:"Add Additional Details",onChange:function(e){return D(e.target.value)}}),r.a.createElement(ae.RadioGroup,{name:"status",label:"Update Status",onChange:function(e){return P(e.target.value)},items:Le}),r.a.createElement("div",null,r.a.createElement(ae.Button,{type:"submit",text:"Update"})))))}var De=Object(C.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)}}})),Re=function(e){var a=e.isShowing,t=e.hide,n=e.person,i=De();return r.a.createElement("div",{className:"edit-modal"},a?l.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-overlay"}),r.a.createElement("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},r.a.createElement("div",{className:"modal"},r.a.createElement(T.a,{className:i.pageContent},r.a.createElement(Me,{person:n}),r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:t},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))),document.body):null)},_e=(t(3),t(200)),Ge=t(201),Pe=t(202),Fe=t(203),Be=t(204),We=t(205),Ue=t(107),Ke=t.n(Ue),ze=t(106),Xe=t.n(ze),He=Object(C.a)((function(e){return{root:{minWidth:200},background:{default:"black"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{image:"/red-hand.svg",backgroundColor:R.a[500]},pos:{marginBotton:12},gridContainer:{paddingTop:"10px",paddingLeft:"40px",paddingRight:"40px"},cardHeader:{color:"red"}}}));function Ve(e){var a=e.person,t=e.i,n=He(),i=ge(),l=i.isShowing,o=i.toggle,c=r.a.useState(null),s=Object(u.a)(c,2),m=(s[0],s[1],r.a.useState(0)),d=Object(u.a)(m,2),p=(d[0],d[1],r.a.useState(-1)),g=Object(u.a)(p,2),f=g[0],b=g[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{className:n.root},r.a.createElement(Ge.a,{className:n.cardHeader,action:r.a.createElement(pe.a,{"aria-label":"settings"},r.a.createElement(Xe.a,{onClick:o})),title:a.fullName,subheader:a.status}),r.a.createElement(Pe.a,{className:n.media,image:"/MMIW-BLOG.png",title:"Recent Photo"}),r.a.createElement(Fe.a,{disableSpacing:!0},r.a.createElement(x.a,{paragraph:!0},"More Info:"),r.a.createElement(pe.a,{onClick:function(){return function(e){b(f===e?-1:e)}(t)},"aria-expanded":f===t,"aria-label":"show more"},r.a.createElement(Ke.a,null))),r.a.createElement(Be.a,{in:f===t,timeout:"auto",unmountOnExit:!0},r.a.createElement(We.a,null,r.a.createElement(x.a,{variant:"h6"},"Age: "),r.a.createElement(x.a,{paragraph:!0},a.age," "),r.a.createElement(x.a,{variant:"h6"},"Tribal Afilliiation: "),r.a.createElement(x.a,{paragraph:!0},a.tribalAffiliation," "),r.a.createElement(x.a,{variant:"h6"},"Date Last Seen: "),r.a.createElement(x.a,{paragraph:!0},a.dateLastSeen),r.a.createElement(x.a,{variant:"h6"},"City Last Seen: "),r.a.createElement(x.a,{paragraph:!0},a.location),r.a.createElement(x.a,{variant:"h6"}," Details:"),r.a.createElement(x.a,{paragraph:!0},a.details)))),r.a.createElement(Re,{hide:o,person:a,isShowing:l}))}var qe=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1),marginLeft:e.spacing(-30)},title:{flexGrow:1},homeButton:{marginRight:e.spacing(1),marginLeft:e.spacing(10),width:"25%"}}}));function Je(){var e=qe(),a=ge(),t=a.isShowing,n=a.toggle,i=Object(E.c)((function(e){return e.auth.id}));return console.log("current user id",i),r.a.createElement("div",{className:e.root},r.a.createElement(me.a,{position:"fixed"},r.a.createElement(de.a,null,r.a.createElement(pe.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(y.a,{className:e.homeButton,variant:"contained",onClick:function(){return g.push("/")}}," Home "),r.a.createElement(H.a,{onClick:function(){return g.push("/map")}},"View Map")),i?r.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:n},r.a.createElement(x.a,{variant:"h8",className:e.title},"Report Missing")," "):r.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:n,disabled:!0},r.a.createElement(x.a,{variant:"h8",className:e.title},"Report Missing")),r.a.createElement(je,{isShowing:t,hide:n}),i?r.a.createElement(we,null):r.a.createElement(y.a,{className:e.homeButton,variant:"contained",onClick:function(){return g.push("/login")}}," Log In "))))}t(151);var Ye=Object(C.a)((function(e){return{root:{minWidth:200},background:{default:"black"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{image:"/red-hand.svg",backgroundColor:R.a[500]},pos:{marginBotton:12},gridContainer:{paddingTop:"10px",paddingLeft:"40px",paddingRight:"40px"}}}));function Ze(){var e=Object(E.b)(),a=Ye(),t=(Object(E.c)((function(e){return e.auth.id})),Object(E.c)((function(e){return e.missingReducer.missing})));return Object(n.useEffect)((function(){e(ie())}),[e]),t?r.a.createElement("div",{className:"cardContainer"},r.a.createElement(Je,null),r.a.createElement("div",{className:"spacer"}),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:12,m:6,s:4},r.a.createElement(w.a,{container:!0,className:a.gridContainer,justify:"center",spacing:4},t.map((function(e,a){return r.a.createElement(w.a,{key:e.id,item:!0},r.a.createElement(Ve,{person:e,idx:a}))})))))):"loading cards..."}t(152);function Qe(){return r.a.createElement("div",{className:"pageWrapper"},r.a.createElement("img",{src:"./logout.jpg",className:"hands",alt:"You Are Not Forgotten"}),r.a.createElement("div",{className:"linkContainer"},r.a.createElement(S.a,{href:"/",color:"secondary",variant:"body2"},"Return to Home")))}function $e(){return r.a.createElement(d.c,{history:g},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/logout",component:Qe}),r.a.createElement(d.b,{path:"/missing",component:Ze}),r.a.createElement(d.b,{path:"/map",component:Ae}),r.a.createElement(d.b,{path:"/signup",component:P}),r.a.createElement(d.b,{path:"/login",component:L}),r.a.createElement(d.b,{path:"/",component:ne})))}var ea=t(206);var aa=function(){var e=Object(n.useState)(!0),a=Object(u.a)(e,2),t=a[0],i=a[1],l=Object(E.b)();return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/current");case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:a.data=e.sent,l(v(a.data));case 8:i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),t?null:(console.log("____Rendering app_____"),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(ea.a,null),r.a.createElement($e,null))))},ta=t(50),na=t(108);var ra,ia=Object(ta.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return a.user;case"auth/LOGOUT_USER":return{};default:return e}},missingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_MISSING":return Object(fe.a)(Object(fe.a)({},e),{},{missing:a.missing});case"GET_ONE_MISSING":return Object(fe.a)(Object(fe.a)({},e),{},{oneMissing:a.oneMissing});case"POST_MISSING":return Object(fe.a)(Object(fe.a)({},e),{},{newMissingPerson:a.missing});case"UPDATE_MISSING":return Object(fe.a)(Object(fe.a)({},e),{},{updateMissing:a.missing});default:return e}}});ra=Object(ta.a)(na.a);var la,oa=Object(ta.d)(ia,la,ra);"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_KEY:"AIzaSyCN3q2wKf6rz4IotGPW1pDXwHhcpflU6Ac"}).Node_ENV&&(window.store=oa),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,{store:oa},r.a.createElement(aa,null))),document.getElementById("root"))},83:function(e,a,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.761799c6.chunk.js.map