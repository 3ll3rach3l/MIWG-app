{"version":3,"sources":["store/history.js","store/actions/auth.js","pages/LoginPage.js","pages/SignupPage.js","pages/Pages.js","App.js","store/reducers/rootReducer.js","store/configureStore.js","store/reducers/authReducer.js","index.js"],"names":["history","SET_USER","setUser","user","type","LoginPage","useState","email","setEmail","password","setPassword","currentUserToken","useSelector","state","auth","id","dispatch","useDispatch","handleSubmit","e","preventDefault","a","fetch","method","headers","Cookies","get","body","JSON","stringify","res","json","data","ok","login","to","className","onSubmit","placeholder","onChange","target","value","onClick","SignupPage","username","setUsername","signup","Pages","path","component","App","loading","setLoading","useEffect","loadUser","console","log","storeEnhancer","rootReducer","combineReducers","action","applyMiddleware","thunk","initialState","store","createStore","process","Node_ENV","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.431b65ce.chunk.js","sourcesContent":["import { createBrowserHistory as history } from 'history';\n\nexport default history();","import Cookies from 'js-cookie';\n\nexport const SET_USER = 'auth/SET_USER';\nexport const LOGOUT_USER = 'auth/LOGOUT_USER';\n\n//////////////////ACTIONS////////////////////\n\nexport const setUser = (user) => {\n    if (!user){\n        return{\n            type: SET_USER,\n            user: {}\n        }\n    }\n    return{\n        type: SET_USER,\n        user\n    }\n}\n\nexport const logoutUser = () =>{\n    return{\n        type: LOGOUT_USER\n    }\n}\n\n/////////////////////THUNKS////////////////////////\n\nexport const login = (email, password) => {\n    return async dispatch => {\n        const res = await fetch('/api/session', {\n            method: 'post',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\")\n            },\n            body: JSON.stringify({ email, password })\n        })\n        res.data = await res.json();\n        if (res.ok) {\n            dispatch(setUser(res.data.user))\n        }\n        return res;\n    }\n}\n\nexport const signup = (username, email, password) => {\n    return async dispatch => {\n        const res = await fetch('/api/users/signup', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n                \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\"),\n            },\n            body: JSON.stringify({ username, email, password })\n        })\n        res.data = await res.json();\n        if (res.ok) {\n            dispatch(setUser(res.data.user));\n        }\n        return res;\n    }\n}\n\nexport const logout = () => {\n    return async dispatch => {\n        const res = await fetch('/api/session', {\n            method: 'delete',\n            headers: {\"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\")},\n        })\n        if (res.ok) {\n            dispatch(logoutUser());\n        }\n        return res;\n    }\n}\n\nexport const loginDemo = () => async (dispatch) => {\n    const res = await fetch(\"/api/session\", {\n        method: \"post\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"XSRF-TOKEN\": Cookies.get(\"XSRF-TOKEN\")\n        },\n        body: JSON.stringify({ email: \"lauren@example.com\", password: \"password\" })\n    });\n   \n    res.data = await res.json();\n   \n    if (res.ok) {\n        dispatch(setUser(res.data.user))\n    }\n    return res;\n};","import React, { useState } from 'react';\nimport { login, loginDemo } from '../store/actions/auth';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, Link } from \"react-router-dom\";\nimport './auth.css'\n\n\n\nfunction LoginPage() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const currentUserToken = useSelector(state => state.auth.id);\n    const dispatch = useDispatch();\n    \n\n    const handleSubmit = e => {\n        e.preventDefault();\n        dispatch(login(email, password));\n       \n    }\n\n    const handleDemoSubmit = e => {\n        e.preventDefault();\n        dispatch(loginDemo());\n    }\n\n    if (currentUserToken) return <Redirect to=\"/\"/>;\n\n    return (\n        <div className=\"auth-container\">\n            <form className=\"auth-form\" onSubmit={handleSubmit}>\n            <div className=\"errors-container\">\n                <ul className=\"errors\" id=\"login-errors\"></ul>\n            </div>\n                <div className=\"signUpLabel\">\n                    <input type=\"text\" className=\"signup\" placeholder=\"Email\" onChange={(e) => setEmail(e.target.value)}/>\n                </div>\n                <div className=\"signUpLabel\">\n                    <input type=\"password\" className=\"signup\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\n                </div>\n                <div className=\"buttonDiv\">\n                <button className=\"authButton\" type=\"submit\" onClick={handleSubmit}>Log in</button>\n                </div>\n                <div className=\"buttonDiv\">\n                <button className=\"authButton\" type=\"submit\" onClick={handleDemoSubmit}>\n                    Log in as demo user\n                 </button>\n                </div>\n                <div className=\"signUpOption\">\n                    <span>\n                        Not a member? <Link to=\"/signup\">Sign up</Link>\n                    </span>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default LoginPage;","import React, { useState } from \"react\";\nimport { signup } from \"../store/actions/auth\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport './auth.css'\n\nfunction SignupPage() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const currentUserId = useSelector((state) => state.auth.id);\n  \n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(signup(username, email, password));\n  };\n\n  if (currentUserId) return <Redirect to=\"/\" />;\n\n  return (\n    <> \n    <div className=\"auth-container\">\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n          <div className=\"errors-container\">\n            <ul className=\"errors\" id=\"sign-up-errors\"></ul>\n          </div>\n          <div className=\"buttonDiv\">\n            <div className=\"signUpLabel\">\n                <input type=\"text\"\n                className=\"signup\"\n                placeholder=\"Username\"\n                onChange={(e) => setUsername(e.target.value)}\n                />\n            </div>\n          </div>\n          <div className=\"buttonDiv\">\n            <div className=\"signUpLabel\">\n                <input type=\"text\"\n                className=\"signup\"\n                placeholder=\"Email\"\n                id=\"outlined-basic\"\n                onChange={(e) => setEmail(e.target.value)}\n                />\n            </div>\n          </div>\n          <div className=\"buttonDiv\">\n            <div className=\"signUpLabel\">\n                <input type=\"password\"\n                className=\"signup\"\n                placeholder=\"Password\"\n                id=\"outlined-basic\"\n                onChange={(e) => setPassword(e.target.value)}\n                />\n            </div>\n          </div>\n          <div className=\"buttonDiv\">\n            <button\n              className=\"authButton\"\n              type=\"submit\"\n              onClick={handleSubmit}\n            >Sign Up</button>\n            <div className=\"signUpOption\">\n                <span>\n                    Already a member? <Link to=\"/login\">Log In</Link>\n                </span>\n            </div>\n          </div>\n        </form>   \n    </div>\n    </>\n  );\n}\n\nexport default SignupPage;\n","import React from 'react';\nimport {Route, Switch, Router} from 'react-router-dom';\nimport history from '../store/history'\n\nimport LoginPage from './LoginPage'\nimport SignupPage from './SignupPage'\n\n\nexport default function Pages() {\n    return (\n      <Router history={history}>\n        <Switch>\n          <Route path=\"/signup\" component={SignupPage} />\n          <Route path=\"/login\" component={LoginPage} />\n          <Route path=\"/\">\n            <h1>My Home Page</h1>\n          </Route>\n          {/* <Route path=\"/signup\" component={SignUpPage} />\n                <Route exact path=\"/\" component={HomePage} /> */}\n        </Switch>\n      </Router>\n    );\n}","import React, {useEffect, useState } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport Pages from './pages/Pages'\nimport { useDispatch } from \"react-redux\";\nimport { setUser } from \"./store/actions/auth\";\n\nimport UserList from './components/UsersList';\n\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      const loadUser = async () => {\n        const res = await fetch(\"/api/session\");\n        if (res.ok) {\n          res.data = await res.json();\n          dispatch(setUser(res.data));\n        }\n        setLoading(false);\n      };\n      loadUser();\n    }, [dispatch]);\n\n    if (loading) return null;\n  console.log(\"____Rendering app_____\")\n  return (\n    <BrowserRouter>\n        <Pages />\n        {/* <nav>\n            <ul>\n                <li><NavLink to=\"/\" activeclass=\"active\">Home</NavLink></li>\n                <li><NavLink to=\"/users\" activeclass=\"active\">Users</NavLink></li>\n            </ul>\n        </nav>\n        <Switch>\n            <Route path=\"/users\">\n                <UserList />\n            </Route>\n\n            <Route path=\"/\">\n                <h1>My Home Page</h1>\n            </Route>\n        </Switch> */}\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\n\nconst rootReducer = combineReducers({\n    auth: authReducer,\n   \n})\n\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers/rootReducer';\n\n\nlet storeEnhancer;\n\nif (process.env.NODE_ENV !== 'production') {\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    storeEnhancer = composeEnhancers(applyMiddleware(thunk));\n} else {\n    storeEnhancer = applyMiddleware(thunk);\n}\n\nexport default function configureStore(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        storeEnhancer\n    )\n}","import { SET_USER, LOGOUT_USER } from '../actions/auth';\n\nexport default function authReducer(state = {}, action) {\n    switch (action.type) {\n        case SET_USER:\n            return action.user;\n\n        case LOGOUT_USER:\n            return {};\n\n        default:\n            return state;\n    }\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport configureStore from './store/configureStore';\nimport {Provider} from 'react-redux';\n\nconst store = configureStore();\nif (process.env.Node_ENV !== 'production') {\n  window.store = store;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}